digraph "CFG for 'amd_iommu_domain_enable_v2' function" {
	label="CFG for 'amd_iommu_domain_enable_v2' function";

	Node0x561b946ad280 [shape=record,label="{-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llbc-a\l...md_iommu_domain_enable_v2-0:\l  %lock.addr.i26 = alloca %struct.spinlock*, align 8\l  call void @llvm.dbg.declare(metadata %struct.spinlock** %lock.addr.i26,\l... metadata !6072, metadata !DIExpression()), !dbg !6077\l  %flags.addr.i = alloca i64, align 8\l  call void @llvm.dbg.declare(metadata i64* %flags.addr.i, metadata !6079,\l... metadata !DIExpression()), !dbg !6080\l  %__dummy.i = alloca i64, align 8\l  call void @llvm.dbg.declare(metadata i64* %__dummy.i, metadata !6081,\l... metadata !DIExpression()), !dbg !6084\l  %__dummy2.i = alloca i64, align 8\l  call void @llvm.dbg.declare(metadata i64* %__dummy2.i, metadata !6085,\l... metadata !DIExpression()), !dbg !6084\l  %tmp.i = alloca i32, align 4\l  %lock.addr.i = alloca %struct.spinlock*, align 8\l  call void @llvm.dbg.declare(metadata %struct.spinlock** %lock.addr.i,\l... metadata !6086, metadata !DIExpression()), !dbg !6091\l  %retval = alloca i32, align 4\l  %dom.addr = alloca %struct.iommu_domain*, align 8\l  %pasids.addr = alloca i32, align 4\l  %domain = alloca %struct.protection_domain*, align 8\l  %flags = alloca i64, align 8\l  %levels = alloca i32, align 4\l  %ret = alloca i32, align 4\l  %__dummy = alloca i64, align 8\l  %__dummy2 = alloca i64, align 8\l  %tmp = alloca i32, align 4\l  store %struct.iommu_domain* %dom, %struct.iommu_domain** %dom.addr, align 8\l  call void @llvm.dbg.declare(metadata %struct.iommu_domain** %dom.addr,\l... metadata !6095, metadata !DIExpression()), !dbg !6096\l  store i32 %pasids, i32* %pasids.addr, align 4\l  call void @llvm.dbg.declare(metadata i32* %pasids.addr, metadata !6097,\l... metadata !DIExpression()), !dbg !6098\l  call void @llvm.dbg.declare(metadata %struct.protection_domain** %domain,\l... metadata !6099, metadata !DIExpression()), !dbg !6100\l  %0 = load %struct.iommu_domain*, %struct.iommu_domain** %dom.addr, align 8,\l... !dbg !6101\l  %call = call %struct.protection_domain* @to_pdomain(%struct.iommu_domain*\l... %0) #8, !dbg !6102\l  store %struct.protection_domain* %call, %struct.protection_domain** %domain,\l... align 8, !dbg !6100\l  call void @llvm.dbg.declare(metadata i64* %flags, metadata !6103, metadata\l... !DIExpression()), !dbg !6104\l  call void @llvm.dbg.declare(metadata i32* %levels, metadata !6105, metadata\l... !DIExpression()), !dbg !6106\l  call void @llvm.dbg.declare(metadata i32* %ret, metadata !6107, metadata\l... !DIExpression()), !dbg !6108\l  %1 = load i32, i32* %pasids.addr, align 4, !dbg !6109\l  %cmp = icmp sle i32 %1, 0, !dbg !6111\l  br i1 %cmp, label\l... %-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llb\l...c-amd_iommu_domain_enable_v2-2, label\l... %-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llb\l...c-amd_iommu_domain_enable_v2-1, !dbg !6112\l|{<s0>T|<s1>F}}"];
	Node0x561b946ad280:s0 -> Node0x561b9463ec70;
	Node0x561b946ad280:s1 -> Node0x561b9463ec20;
	Node0x561b9463ec20 [shape=record,label="{-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llbc-a\l...md_iommu_domain_enable_v2-1: \l  %2 = load i32, i32* %pasids.addr, align 4, !dbg !6113\l  %cmp1 = icmp sgt i32 %2, 65536, !dbg !6114\l  br i1 %cmp1, label\l... %-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llb\l...c-amd_iommu_domain_enable_v2-2, label\l... %-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llb\l...c-amd_iommu_domain_enable_v2-3, !dbg !6115\l|{<s0>T|<s1>F}}"];
	Node0x561b9463ec20:s0 -> Node0x561b9463ec70;
	Node0x561b9463ec20:s1 -> Node0x561b9463ecc0;
	Node0x561b9463ec70 [shape=record,label="{-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llbc-a\l...md_iommu_domain_enable_v2-2: \l  store i32 -22, i32* %retval, align 4, !dbg !6116\l  br label\l... %-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llb\l...c-amd_iommu_domain_enable_v2-20, !dbg !6116\l}"];
	Node0x561b9463ec70 -> Node0x561b9463f210;
	Node0x561b9463ecc0 [shape=record,label="{-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llbc-a\l...md_iommu_domain_enable_v2-3: \l  store i32 0, i32* %levels, align 4, !dbg !6117\l  br label\l... %-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llb\l...c-amd_iommu_domain_enable_v2-4, !dbg !6119\l}"];
	Node0x561b9463ecc0 -> Node0x561b9463ed10;
	Node0x561b9463ed10 [shape=record,label="{-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llbc-a\l...md_iommu_domain_enable_v2-4: \l  %3 = load i32, i32* %pasids.addr, align 4, !dbg !6120\l  %sub = sub i32 %3, 1, !dbg !6122\l  %and = and i32 %sub, -512, !dbg !6123\l  %tobool = icmp ne i32 %and, 0, !dbg !6124\l  br i1 %tobool, label\l... %-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llb\l...c-amd_iommu_domain_enable_v2-5, label\l... %-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llb\l...c-amd_iommu_domain_enable_v2-7, !dbg !6124\l|{<s0>T|<s1>F}}"];
	Node0x561b9463ed10:s0 -> Node0x561b9463ed60;
	Node0x561b9463ed10:s1 -> Node0x561b9463ee00;
	Node0x561b9463ed60 [shape=record,label="{-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llbc-a\l...md_iommu_domain_enable_v2-5: \l  %4 = load i32, i32* %levels, align 4, !dbg !6125\l  %add = add i32 %4, 1, !dbg !6125\l  store i32 %add, i32* %levels, align 4, !dbg !6125\l  br label\l... %-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llb\l...c-amd_iommu_domain_enable_v2-6, !dbg !6126\l}"];
	Node0x561b9463ed60 -> Node0x561b9463edb0;
	Node0x561b9463edb0 [shape=record,label="{-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llbc-a\l...md_iommu_domain_enable_v2-6: \l  %5 = load i32, i32* %pasids.addr, align 4, !dbg !6127\l  %shr = ashr i32 %5, 9, !dbg !6127\l  store i32 %shr, i32* %pasids.addr, align 4, !dbg !6127\l  br label\l... %-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llb\l...c-amd_iommu_domain_enable_v2-4, !dbg !6128, !llvm.loop !6129\l}"];
	Node0x561b9463edb0 -> Node0x561b9463ed10;
	Node0x561b9463ee00 [shape=record,label="{-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llbc-a\l...md_iommu_domain_enable_v2-7: \l  %6 = load i32, i32* %levels, align 4, !dbg !6131\l  %7 = load i32, i32* @amd_iommu_max_glx_val, align 4, !dbg !6133\l  %cmp2 = icmp sgt i32 %6, %7, !dbg !6134\l  br i1 %cmp2, label\l... %-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llb\l...c-amd_iommu_domain_enable_v2-8, label\l... %-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llb\l...c-amd_iommu_domain_enable_v2-9, !dbg !6135\l|{<s0>T|<s1>F}}"];
	Node0x561b9463ee00:s0 -> Node0x561b9463ee50;
	Node0x561b9463ee00:s1 -> Node0x561b9463eea0;
	Node0x561b9463ee50 [shape=record,label="{-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llbc-a\l...md_iommu_domain_enable_v2-8: \l  store i32 -22, i32* %retval, align 4, !dbg !6136\l  br label\l... %-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llb\l...c-amd_iommu_domain_enable_v2-20, !dbg !6136\l}"];
	Node0x561b9463ee50 -> Node0x561b9463f210;
	Node0x561b9463eea0 [shape=record,label="{-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llbc-a\l...md_iommu_domain_enable_v2-9: \l  br label\l... %-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llb\l...c-amd_iommu_domain_enable_v2-10, !dbg !6137\l}"];
	Node0x561b9463eea0 -> Node0x561b9463eef0;
	Node0x561b9463eef0 [shape=record,label="{-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llbc-a\l...md_iommu_domain_enable_v2-10: \l  br label\l... %-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llb\l...c-amd_iommu_domain_enable_v2-11, !dbg !6138\l}"];
	Node0x561b9463eef0 -> Node0x561b9463ef40;
	Node0x561b9463ef40 [shape=record,label="{-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llbc-a\l...md_iommu_domain_enable_v2-11: \l  call void @llvm.dbg.declare(metadata i64* %__dummy, metadata !6139, metadata\l... !DIExpression()), !dbg !6141\l  call void @llvm.dbg.declare(metadata i64* %__dummy2, metadata !6142,\l... metadata !DIExpression()), !dbg !6141\l  %cmp6 = icmp eq i64* %__dummy, %__dummy2, !dbg !6141\l  %conv = zext i1 %cmp6 to i32, !dbg !6141\l  store i32 1, i32* %tmp, align 4, !dbg !6141\l  %8 = load i32, i32* %tmp, align 4, !dbg !6141\l  %9 = load %struct.protection_domain*, %struct.protection_domain** %domain,\l... align 8, !dbg !6143\l  %lock = getelementptr inbounds %struct.protection_domain,\l... %struct.protection_domain* %9, i32 0, i32 3, !dbg !6143\l  store %struct.spinlock* %lock, %struct.spinlock** %lock.addr.i, align 8\l  %10 = load %struct.spinlock*, %struct.spinlock** %lock.addr.i, align 8, !dbg\l... !6144\l  %11 = getelementptr inbounds %struct.spinlock, %struct.spinlock* %10, i32 0,\l... i32 0, !dbg !6145\l  %rlock.i = bitcast %union.anon.1* %11 to %struct.raw_spinlock*, !dbg !6145\l  %call8 = call i64 @_raw_spin_lock_irqsave(%struct.raw_spinlock* %rlock.i)\l... #8, !dbg !6143\l  store i64 %call8, i64* %flags, align 8, !dbg !6143\l  br label\l... %-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llb\l...c-amd_iommu_domain_enable_v2-12, !dbg !6143\l}"];
	Node0x561b9463ef40 -> Node0x561b9463ef90;
	Node0x561b9463ef90 [shape=record,label="{-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llbc-a\l...md_iommu_domain_enable_v2-12: \l  br label\l... %-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llb\l...c-amd_iommu_domain_enable_v2-13, !dbg !6138\l}"];
	Node0x561b9463ef90 -> Node0x561b9463efe0;
	Node0x561b9463efe0 [shape=record,label="{-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llbc-a\l...md_iommu_domain_enable_v2-13: \l  store i32 -16, i32* %ret, align 4, !dbg !6146\l  %12 = load %struct.protection_domain*, %struct.protection_domain** %domain,\l... align 8, !dbg !6147\l  %dev_cnt = getelementptr inbounds %struct.protection_domain,\l... %struct.protection_domain* %12, i32 0, i32 12, !dbg !6149\l  %13 = load i32, i32* %dev_cnt, align 4, !dbg !6149\l  %cmp10 = icmp ugt i32 %13, 0, !dbg !6150\l  br i1 %cmp10, label\l... %-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llb\l...c-amd_iommu_domain_enable_v2-15, label\l... %-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llb\l...c-amd_iommu_domain_enable_v2-14, !dbg !6151\l|{<s0>T|<s1>F}}"];
	Node0x561b9463efe0:s0 -> Node0x561b9463f080;
	Node0x561b9463efe0:s1 -> Node0x561b9463f030;
	Node0x561b9463f030 [shape=record,label="{-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llbc-a\l...md_iommu_domain_enable_v2-14: \l  %14 = load %struct.protection_domain*, %struct.protection_domain** %domain,\l... align 8, !dbg !6152\l  %flags13 = getelementptr inbounds %struct.protection_domain,\l... %struct.protection_domain* %14, i32 0, i32 10, !dbg !6153\l  %15 = load i64, i64* %flags13, align 8, !dbg !6153\l  %and14 = and i64 %15, 8, !dbg !6154\l  %tobool15 = icmp ne i64 %and14, 0, !dbg !6154\l  br i1 %tobool15, label\l... %-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llb\l...c-amd_iommu_domain_enable_v2-15, label\l... %-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llb\l...c-amd_iommu_domain_enable_v2-16, !dbg !6155\l|{<s0>T|<s1>F}}"];
	Node0x561b9463f030:s0 -> Node0x561b9463f080;
	Node0x561b9463f030:s1 -> Node0x561b9463f0d0;
	Node0x561b9463f080 [shape=record,label="{-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llbc-a\l...md_iommu_domain_enable_v2-15: \l  br label\l... %-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llb\l...c-amd_iommu_domain_enable_v2-19, !dbg !6156\l}"];
	Node0x561b9463f080 -> Node0x561b9463f1c0;
	Node0x561b9463f0d0 [shape=record,label="{-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llbc-a\l...md_iommu_domain_enable_v2-16: \l  store i32 -12, i32* %ret, align 4, !dbg !6157\l  %call18 = call i64 @get_zeroed_page(i32 17301536) #8, !dbg !6158\l  %16 = inttoptr i64 %call18 to i8*, !dbg !6159\l  %17 = bitcast i8* %16 to i64*, !dbg !6159\l  %18 = load %struct.protection_domain*, %struct.protection_domain** %domain,\l... align 8, !dbg !6160\l  %gcr3_tbl = getelementptr inbounds %struct.protection_domain,\l... %struct.protection_domain* %18, i32 0, i32 9, !dbg !6161\l  store i64* %17, i64** %gcr3_tbl, align 8, !dbg !6162\l  %19 = load %struct.protection_domain*, %struct.protection_domain** %domain,\l... align 8, !dbg !6163\l  %gcr3_tbl19 = getelementptr inbounds %struct.protection_domain,\l... %struct.protection_domain* %19, i32 0, i32 9, !dbg !6165\l  %20 = load i64*, i64** %gcr3_tbl19, align 8, !dbg !6165\l  %cmp20 = icmp eq i64* %20, null, !dbg !6166\l  br i1 %cmp20, label\l... %-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llb\l...c-amd_iommu_domain_enable_v2-17, label\l... %-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llb\l...c-amd_iommu_domain_enable_v2-18, !dbg !6167\l|{<s0>T|<s1>F}}"];
	Node0x561b9463f0d0:s0 -> Node0x561b9463f120;
	Node0x561b9463f0d0:s1 -> Node0x561b9463f170;
	Node0x561b9463f120 [shape=record,label="{-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llbc-a\l...md_iommu_domain_enable_v2-17: \l  br label\l... %-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llb\l...c-amd_iommu_domain_enable_v2-19, !dbg !6168\l}"];
	Node0x561b9463f120 -> Node0x561b9463f1c0;
	Node0x561b9463f170 [shape=record,label="{-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llbc-a\l...md_iommu_domain_enable_v2-18: \l  %21 = load i32, i32* %levels, align 4, !dbg !6169\l  %22 = load %struct.protection_domain*, %struct.protection_domain** %domain,\l... align 8, !dbg !6170\l  %glx = getelementptr inbounds %struct.protection_domain,\l... %struct.protection_domain* %22, i32 0, i32 8, !dbg !6171\l  store i32 %21, i32* %glx, align 8, !dbg !6172\l  %23 = load %struct.protection_domain*, %struct.protection_domain** %domain,\l... align 8, !dbg !6173\l  %flags24 = getelementptr inbounds %struct.protection_domain,\l... %struct.protection_domain* %23, i32 0, i32 10, !dbg !6174\l  %24 = load i64, i64* %flags24, align 8, !dbg !6175\l  %or = or i64 %24, 8, !dbg !6175\l  store i64 %or, i64* %flags24, align 8, !dbg !6175\l  %25 = load %struct.protection_domain*, %struct.protection_domain** %domain,\l... align 8, !dbg !6176\l  %updated = getelementptr inbounds %struct.protection_domain,\l... %struct.protection_domain* %25, i32 0, i32 11, !dbg !6177\l  store i8 1, i8* %updated, align 8, !dbg !6178\l  %26 = load %struct.protection_domain*, %struct.protection_domain** %domain,\l... align 8, !dbg !6179\l  call void @update_domain(%struct.protection_domain* %26) #8, !dbg !6180\l  store i32 0, i32* %ret, align 4, !dbg !6181\l  br label\l... %-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llb\l...c-amd_iommu_domain_enable_v2-19, !dbg !6182\l}"];
	Node0x561b9463f170 -> Node0x561b9463f1c0;
	Node0x561b9463f1c0 [shape=record,label="{-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llbc-a\l...md_iommu_domain_enable_v2-19: \l  call void @llvm.dbg.label(metadata !6183), !dbg !6184\l  %27 = load %struct.protection_domain*, %struct.protection_domain** %domain,\l... align 8, !dbg !6185\l  %lock25 = getelementptr inbounds %struct.protection_domain,\l... %struct.protection_domain* %27, i32 0, i32 3, !dbg !6186\l  %28 = load i64, i64* %flags, align 8, !dbg !6187\l  store %struct.spinlock* %lock25, %struct.spinlock** %lock.addr.i26, align 8\l  store i64 %28, i64* %flags.addr.i, align 8\l  store i32 1, i32* %tmp.i, align 4, !dbg !6084\l  %29 = load i32, i32* %tmp.i, align 4, !dbg !6084\l  %30 = load %struct.spinlock*, %struct.spinlock** %lock.addr.i26, align 8,\l... !dbg !6188\l  %31 = getelementptr inbounds %struct.spinlock, %struct.spinlock* %30, i32 0,\l... i32 0, !dbg !6188\l  %rlock.i27 = bitcast %union.anon.1* %31 to %struct.raw_spinlock*, !dbg !6188\l  %32 = load i64, i64* %flags.addr.i, align 8, !dbg !6188\l  call void @_raw_spin_unlock_irqrestore(%struct.raw_spinlock* %rlock.i27, i64\l... %32) #9, !dbg !6188\l  %33 = load i32, i32* %ret, align 4, !dbg !6189\l  store i32 %33, i32* %retval, align 4, !dbg !6190\l  br label\l... %-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llb\l...c-amd_iommu_domain_enable_v2-20, !dbg !6190\l}"];
	Node0x561b9463f1c0 -> Node0x561b9463f210;
	Node0x561b9463f210 [shape=record,label="{-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llbc-a\l...md_iommu_domain_enable_v2-20: \l  %34 = load i32, i32* %retval, align 4, !dbg !6191\l  ret i32 %34, !dbg !6191\l}"];
}
