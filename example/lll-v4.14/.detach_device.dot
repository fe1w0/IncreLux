digraph "CFG for 'detach_device' function" {
	label="CFG for 'detach_device' function";

	Node0x561b94703990 [shape=record,label="{-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llbc-d\l...etach_device-0:\l  %dev.addr = alloca %struct.device*, align 8\l  %domain = alloca %struct.protection_domain*, align 8\l  %dev_data = alloca %struct.iommu_dev_data*, align 8\l  %flags = alloca i64, align 8\l  %__dummy = alloca i64, align 8\l  %__dummy2 = alloca i64, align 8\l  %tmp = alloca i32, align 4\l  %__dummy4 = alloca i64, align 8\l  %__dummy25 = alloca i64, align 8\l  %tmp8 = alloca i32, align 4\l  %__mptr = alloca i8*, align 8\l  %tmp18 = alloca %struct.pci_dev*, align 8\l  %__mptr21 = alloca i8*, align 8\l  %tmp24 = alloca %struct.pci_dev*, align 8\l  store %struct.device* %dev, %struct.device** %dev.addr, align 8\l  call void @llvm.dbg.declare(metadata %struct.device** %dev.addr, metadata\l... !6070, metadata !DIExpression()), !dbg !6071\l  call void @llvm.dbg.declare(metadata %struct.protection_domain** %domain,\l... metadata !6072, metadata !DIExpression()), !dbg !6073\l  call void @llvm.dbg.declare(metadata %struct.iommu_dev_data** %dev_data,\l... metadata !6074, metadata !DIExpression()), !dbg !6075\l  call void @llvm.dbg.declare(metadata i64* %flags, metadata !6076, metadata\l... !DIExpression()), !dbg !6077\l  %0 = load %struct.device*, %struct.device** %dev.addr, align 8, !dbg !6078\l  %call = call %struct.iommu_dev_data* @get_dev_data(%struct.device* %0) #8,\l... !dbg !6079\l  store %struct.iommu_dev_data* %call, %struct.iommu_dev_data** %dev_data,\l... align 8, !dbg !6080\l  %1 = load %struct.iommu_dev_data*, %struct.iommu_dev_data** %dev_data, align\l... 8, !dbg !6081\l  %domain1 = getelementptr inbounds %struct.iommu_dev_data,\l... %struct.iommu_dev_data* %1, i32 0, i32 2, !dbg !6082\l  %2 = load %struct.protection_domain*, %struct.protection_domain** %domain1,\l... align 8, !dbg !6082\l  store %struct.protection_domain* %2, %struct.protection_domain** %domain,\l... align 8, !dbg !6083\l  br label\l... %-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llb\l...c-detach_device-1, !dbg !6084\l}"];
	Node0x561b94703990 -> Node0x561b947ceea0;
	Node0x561b947ceea0 [shape=record,label="{-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llbc-d\l...etach_device-1: \l  call void @llvm.dbg.declare(metadata i64* %__dummy, metadata !6085, metadata\l... !DIExpression()), !dbg !6088\l  call void @llvm.dbg.declare(metadata i64* %__dummy2, metadata !6089,\l... metadata !DIExpression()), !dbg !6088\l  %cmp = icmp eq i64* %__dummy, %__dummy2, !dbg !6088\l  %conv = zext i1 %cmp to i32, !dbg !6088\l  store i32 1, i32* %tmp, align 4, !dbg !6088\l  %3 = load i32, i32* %tmp, align 4, !dbg !6088\l  %call2 = call i64 @_raw_write_lock_irqsave(%struct.rwlock_t*\l... @amd_iommu_devtable_lock) #8, !dbg !6090\l  store i64 %call2, i64* %flags, align 8, !dbg !6090\l  br label\l... %-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llb\l...c-detach_device-2, !dbg !6090\l}"];
	Node0x561b947ceea0 -> Node0x561b947ceef0;
	Node0x561b947ceef0 [shape=record,label="{-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llbc-d\l...etach_device-2: \l  %4 = load %struct.iommu_dev_data*, %struct.iommu_dev_data** %dev_data, align\l... 8, !dbg !6091\l  call void @__detach_device(%struct.iommu_dev_data* %4) #8, !dbg !6092\l  br label\l... %-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llb\l...c-detach_device-3, !dbg !6093\l}"];
	Node0x561b947ceef0 -> Node0x561b947cef40;
	Node0x561b947cef40 [shape=record,label="{-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llbc-d\l...etach_device-3: \l  call void @llvm.dbg.declare(metadata i64* %__dummy4, metadata !6094,\l... metadata !DIExpression()), !dbg !6097\l  call void @llvm.dbg.declare(metadata i64* %__dummy25, metadata !6098,\l... metadata !DIExpression()), !dbg !6097\l  %cmp6 = icmp eq i64* %__dummy4, %__dummy25, !dbg !6097\l  %conv7 = zext i1 %cmp6 to i32, !dbg !6097\l  store i32 1, i32* %tmp8, align 4, !dbg !6097\l  %5 = load i32, i32* %tmp8, align 4, !dbg !6097\l  %6 = load i64, i64* %flags, align 8, !dbg !6099\l  call void @_raw_write_unlock_irqrestore(%struct.rwlock_t*\l... @amd_iommu_devtable_lock, i64 %6) #8, !dbg !6099\l  br label\l... %-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llb\l...c-detach_device-4, !dbg !6099\l}"];
	Node0x561b947cef40 -> Node0x561b947cf500;
	Node0x561b947cf500 [shape=record,label="{-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llbc-d\l...etach_device-4: \l  %7 = load %struct.device*, %struct.device** %dev.addr, align 8, !dbg !6100\l  %bus = getelementptr inbounds %struct.device, %struct.device* %7, i32 0, i32\l... 6, !dbg !6100\l  %8 = load %struct.bus_type*, %struct.bus_type** %bus, align 8, !dbg !6100\l  %cmp10 = icmp eq %struct.bus_type* %8, @pci_bus_type, !dbg !6100\l  br i1 %cmp10, label\l... %-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llb\l...c-detach_device-6, label\l... %-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llb\l...c-detach_device-5, !dbg !6102\l|{<s0>T|<s1>F}}"];
	Node0x561b947cf500:s0 -> Node0x561b947cf5a0;
	Node0x561b947cf500:s1 -> Node0x561b947cf550;
	Node0x561b947cf550 [shape=record,label="{-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llbc-d\l...etach_device-5: \l  br label\l... %-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llb\l...c-detach_device-17, !dbg !6103\l}"];
	Node0x561b947cf550 -> Node0x561b947cf910;
	Node0x561b947cf5a0 [shape=record,label="{-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llbc-d\l...etach_device-6: \l  %9 = load %struct.protection_domain*, %struct.protection_domain** %domain,\l... align 8, !dbg !6104\l  %flags12 = getelementptr inbounds %struct.protection_domain,\l... %struct.protection_domain* %9, i32 0, i32 10, !dbg !6106\l  %10 = load i64, i64* %flags12, align 8, !dbg !6106\l  %and = and i64 %10, 8, !dbg !6107\l  %tobool = icmp ne i64 %and, 0, !dbg !6107\l  br i1 %tobool, label\l... %-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llb\l...c-detach_device-7, label\l... %-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llb\l...c-detach_device-11, !dbg !6108\l|{<s0>T|<s1>F}}"];
	Node0x561b947cf5a0:s0 -> Node0x561b947cf5f0;
	Node0x561b947cf5a0:s1 -> Node0x561b947cf730;
	Node0x561b947cf5f0 [shape=record,label="{-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llbc-d\l...etach_device-7: \l  %11 = load %struct.iommu_dev_data*, %struct.iommu_dev_data** %dev_data,\l... align 8, !dbg !6109\l  %iommu_v2 = getelementptr inbounds %struct.iommu_dev_data,\l... %struct.iommu_dev_data* %11, i32 0, i32 5, !dbg !6110\l  %12 = load i8, i8* %iommu_v2, align 4, !dbg !6110\l  %tobool13 = trunc i8 %12 to i1, !dbg !6110\l  br i1 %tobool13, label\l... %-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llb\l...c-detach_device-8, label\l... %-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llb\l...c-detach_device-11, !dbg !6111\l|{<s0>T|<s1>F}}"];
	Node0x561b947cf5f0:s0 -> Node0x561b947cf640;
	Node0x561b947cf5f0:s1 -> Node0x561b947cf730;
	Node0x561b947cf640 [shape=record,label="{-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llbc-d\l...etach_device-8: \l  call void @llvm.dbg.declare(metadata i8** %__mptr, metadata !6112, metadata\l... !DIExpression()), !dbg !6114\l  %13 = load %struct.device*, %struct.device** %dev.addr, align 8, !dbg !6114\l  %14 = bitcast %struct.device* %13 to i8*, !dbg !6114\l  store i8* %14, i8** %__mptr, align 8, !dbg !6114\l  br label\l... %-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llb\l...c-detach_device-9, !dbg !6114\l}"];
	Node0x561b947cf640 -> Node0x561b947cf690;
	Node0x561b947cf690 [shape=record,label="{-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llbc-d\l...etach_device-9: \l  br label\l... %-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llb\l...c-detach_device-10, !dbg !6115\l}"];
	Node0x561b947cf690 -> Node0x561b947cf6e0;
	Node0x561b947cf6e0 [shape=record,label="{-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llbc-d\l...etach_device-10: \l  %15 = load i8*, i8** %__mptr, align 8, !dbg !6114\l  %add.ptr = getelementptr i8, i8* %15, i64 -160, !dbg !6114\l  %16 = bitcast i8* %add.ptr to %struct.pci_dev*, !dbg !6114\l  store %struct.pci_dev* %16, %struct.pci_dev** %tmp18, align 8, !dbg !6115\l  %17 = load %struct.pci_dev*, %struct.pci_dev** %tmp18, align 8, !dbg !6114\l  call void @pdev_iommuv2_disable(%struct.pci_dev* %17) #8, !dbg !6117\l  br label\l... %-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llb\l...c-detach_device-16, !dbg !6117\l}"];
	Node0x561b947cf6e0 -> Node0x561b947cf8c0;
	Node0x561b947cf730 [shape=record,label="{-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llbc-d\l...etach_device-11: \l  %18 = load %struct.iommu_dev_data*, %struct.iommu_dev_data** %dev_data,\l... align 8, !dbg !6118\l  %ats = getelementptr inbounds %struct.iommu_dev_data,\l... %struct.iommu_dev_data* %18, i32 0, i32 7, !dbg !6120\l  %enabled = getelementptr inbounds %struct.anon.56, %struct.anon.56* %ats,\l... i32 0, i32 0, !dbg !6121\l  %19 = load i8, i8* %enabled, align 8, !dbg !6121\l  %tobool19 = trunc i8 %19 to i1, !dbg !6121\l  br i1 %tobool19, label\l... %-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llb\l...c-detach_device-12, label\l... %-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llb\l...c-detach_device-15, !dbg !6122\l|{<s0>T|<s1>F}}"];
	Node0x561b947cf730:s0 -> Node0x561b947cf780;
	Node0x561b947cf730:s1 -> Node0x561b947cf870;
	Node0x561b947cf780 [shape=record,label="{-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llbc-d\l...etach_device-12: \l  call void @llvm.dbg.declare(metadata i8** %__mptr21, metadata !6123,\l... metadata !DIExpression()), !dbg !6125\l  %20 = load %struct.device*, %struct.device** %dev.addr, align 8, !dbg !6125\l  %21 = bitcast %struct.device* %20 to i8*, !dbg !6125\l  store i8* %21, i8** %__mptr21, align 8, !dbg !6125\l  br label\l... %-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llb\l...c-detach_device-13, !dbg !6125\l}"];
	Node0x561b947cf780 -> Node0x561b947cf7d0;
	Node0x561b947cf7d0 [shape=record,label="{-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llbc-d\l...etach_device-13: \l  br label\l... %-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llb\l...c-detach_device-14, !dbg !6126\l}"];
	Node0x561b947cf7d0 -> Node0x561b947cf820;
	Node0x561b947cf820 [shape=record,label="{-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llbc-d\l...etach_device-14: \l  %22 = load i8*, i8** %__mptr21, align 8, !dbg !6125\l  %add.ptr25 = getelementptr i8, i8* %22, i64 -160, !dbg !6125\l  %23 = bitcast i8* %add.ptr25 to %struct.pci_dev*, !dbg !6125\l  store %struct.pci_dev* %23, %struct.pci_dev** %tmp24, align 8, !dbg !6126\l  %24 = load %struct.pci_dev*, %struct.pci_dev** %tmp24, align 8, !dbg !6125\l  call void @pci_disable_ats(%struct.pci_dev* %24) #8, !dbg !6128\l  br label\l... %-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llb\l...c-detach_device-15, !dbg !6128\l}"];
	Node0x561b947cf820 -> Node0x561b947cf870;
	Node0x561b947cf870 [shape=record,label="{-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llbc-d\l...etach_device-15: \l  br label\l... %-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llb\l...c-detach_device-16\l}"];
	Node0x561b947cf870 -> Node0x561b947cf8c0;
	Node0x561b947cf8c0 [shape=record,label="{-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llbc-d\l...etach_device-16: \l  %25 = load %struct.iommu_dev_data*, %struct.iommu_dev_data** %dev_data,\l... align 8, !dbg !6129\l  %ats28 = getelementptr inbounds %struct.iommu_dev_data,\l... %struct.iommu_dev_data* %25, i32 0, i32 7, !dbg !6130\l  %enabled29 = getelementptr inbounds %struct.anon.56, %struct.anon.56*\l... %ats28, i32 0, i32 0, !dbg !6131\l  store i8 0, i8* %enabled29, align 8, !dbg !6132\l  br label\l... %-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llb\l...c-detach_device-17, !dbg !6133\l}"];
	Node0x561b947cf8c0 -> Node0x561b947cf910;
	Node0x561b947cf910 [shape=record,label="{-data2-yizhuo-inc-experiment-experiment-lll-v4.14-drivers-iommu-amd_iommu.llbc-d\l...etach_device-17: \l  ret void, !dbg !6133\l}"];
}
